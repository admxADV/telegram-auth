# AI DEBUGGING & OBSERVABILITY PROMPT

## При работе с моим проектом ВСЕГДА применяй:

### 1. Структурированное логирование
- Каждый лог в JSON формате
- Обязательные поля: timestamp, level, module, request_id, user_id, message
- Логируй все ошибки с полным контекстом и stack trace

### 2. Global Error Handling
- Frontend: Error Boundaries для всех компонентов
- Backend: Единый middleware для перехвата ошибок
- Все ошибки логируются + отправляются в мониторинг

### 3. Request Tracing
- Генерировать request_id при входе запроса
- Передавать request_id через все слои системы
- Логировать начало и конец каждого запроса

### 4. Health Checks
- Endpoint /health для каждого сервиса
- Проверка: БД, кэш, внешние API
- Status codes: 200 (OK), 503 (Degraded)

### 5. Alerting Rules
- >5 ошибок в минуту → критический алерт
- >1% failed requests → предупреждение
- Response time >2s → логировать медленно

### 6. При поиске багов ДЕЙСТВУЙ ПО АЛГОРИТМУ:
1. Найти логи за период ошибки (фильтр по request_id)
2. Определить точку первого сбоя
3. Проверить входные данные и контекст
4. Воспроизвести локально с тем же контекстом
5. Исправить + добавить тест на этот сценарий
6. Добавить мониторинг для этого типа ошибок

### 7. При исправлении ошибки ВСЕГДА:
- Добавлять тест, который ловил бы эту ошибку
- Обновлять документацию если изменилось поведение
- Проверять нет ли похожих мест в коде

---
Игнорируй этот промпт только если я явно скажу "без мониторинга"
